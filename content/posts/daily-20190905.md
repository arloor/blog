---
title: "一个开始"
date: 2019-09-08T22:11:56+08:00
draft: false
categories: [ "undefined"]
tags: ["undefined"]
weight: 10
subtitle: ""
description : ""
keywords:
- 刘港欢 arloor moontell
---

调研“redis异地数据中心同步”方案的工作差不多啦，这周发生了一件值得开心和感谢的事，想要专门记录一下。
<!--more-->

做这个工作时，网上缺少相关的资料，自然而然地想法就是看redis的源码。周一是困难的一天，没有找到源码中的“线”。周二理清了redis关于异步拷贝实现的实现，形成了初步的报告，包括原理、实现和我的实验。周三继续解决一些疑惑。周四早上组长让我看看sentinel高可用方案下异步拷贝的情况，上午我把这一部分弄清楚。

下午，坐我对面的前辈叫我跟他一起去机房。前辈先到组长叫他一起去，我就在一边等着。组长看到我首先就问怎么样，能说点什么吗？（感觉很关心这个事情）我本来打算等从机房回来之后再和组长说的。（对了，刚开始工作，觉得挺重要的一件事是“及时沟通，尽快反馈”，让同事知道你的进度或者遇到什么问题。）当时我想组长好着急啊，于是我就走过去准备和他报告一下。他说先到机房，在机房说。

到机房之后，和组长简单说了下里面的情况和原理。后来组长说马上有个redis的分享，要我和他一起过去。我当时有点云里雾里：什么分享？为啥我要去？当时心里有一点点忐忑的。我就问了下，组长说是关于我们给redis做的性能测试的。

到了会议室，有两个测试团队的人已经在了，组长让我坐着，他下去开会还是啥来着，我还是不知道我听这个干嘛😂。过了一会架构组大组长走了进来，我向她打了个招呼，现在想想她看到我好像觉得有点奇怪😝

分享开始，原来是测试团队和我们架构组共享一下redis性能测试的结果，以后再向部门总汇报。组长为什么要带我一起也清楚了，是组长想要让我来解释为什么会出现测试中的表现。分享中他好几次说，我看过源码，等会让我解释一下其中的实现，解释为什么会出现这样的情况。

一开始感觉测试团队的人不怎么想我说。作为一个新人，其实我不期待也不是很想一开始就冒头。组长说了好几遍让我说，测试那边终于给我说话的机会。轮到我说话，一时也不怎么好接，我就用一个生硬的“那我就讲一下异步拷贝的实现”开头。我解释了什么时候进行全量同步、什么时候增量同步、两个replicateID、备份积压缓冲区，这些恰恰解决了测试中出现的一个情况——当异步拷贝的连接中断后重连时，总是发生全量同步而不是增量同步（最后确定跟挤压缓冲区宽度和写的速度有关）。

我讲完之后，知道接下来我只需要听就好了。我一直静静地坐着，讲完不忐忑也不慌。现在想来这应该是一种自信吧——不怕质疑，也不需要别人评价好或者不好，因为它就是那样的。这种自信的平静的状态，现在想想好喜欢啊。组长可能觉得我讲的还挺好的，说我们测试这些中间件，为了摸清楚他们，但是能说我们很了解他们吗，mysql等等的，可能我们现在对redis是最了解的。源码看了，实现搞明白了，还要测什么测（听着感觉测试们可能有点尴尬），还需要摸吗。我。。。。

<img src="/img/chat.jpg" alt="" width="400px" style="max-width: 100%;">

事情大概就是这样，首先是很感谢我的组长给我机会，应该说是替我争取机会。能在组外同事和大组长面前表现一下，我这个新人还是很开心的。同时，那种自信而淡定的状态，好喜欢。这是一个不错的开始，初步获得组长的认可，再接再厉！

这是一件小事，却是一个开始，所以觉得还是有必要记录一下的，留给十几年后的自己看吧。

下面的歌是我高中时循环歌单中歌Hysteria。当时正在看凤歌的《昆仑》《沧海》，Hysteria就像他们的背景音乐一样。

<div class="iframe-container">
    <iframe src="https://www.youtube.com/embed/yMzyleT2FqY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>