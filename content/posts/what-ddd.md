---
title: "领域驱动设计"
date: 2021-05-14T10:39:49+08:00
draft: true
categories: [ "undefined"]
tags: ["undefined"]
weight: 10
subtitle: ""
description : ""
keywords:
- 刘港欢 arloor moontell
---

## 为什么要搞领域驱动设计

传统的软件开发模式有结构化设计，以数据为中心设计，面向对象设计。

- 结构化设计：面向流程，面向过程的设计。先做A，再做B，最后做C。由过程之间的组合完成整体的系统功能
- 以数据为中心设计：先设计数据库ER图，然后再进行设计。持久化数据在软件应用中加工组合修改，反馈给用户，修改持久化到数据库。
- 面向对象设计：抽象出对象这个概念，使其在数据属性外增加职责。由对象之间协作完成整体的系统功能。

软件是对现实的模拟。软件设计的这种演进，归根结底原因是现在的软件所要模拟的现实越来越复杂，导致软件也越来越复杂。

面向对象设计有很多原则：单一职责、面向接口等等。好像符合了这些原则就是面向对象设计一样。其实不然，我们设计的时候总是降级成以数据为中心设计，最后把高内聚低耦合什么的都抛弃了，最终导致这些原则也不能很好的遵守。也就不是面向对象设计了。

很多人说领域驱动设计是划分微服务的好办法，其实应该说领域驱动设计的事件风暴、领域、子域、领域通用语言、限界上下文这些，能很好地进行微服务划分。总之不要说领域驱动设计是微服务中的一个概念，也不是为了微服务而要搞领域驱动设计，而是为了实现面向对象设计。我认为领域驱动设计其实就是如何进行面向对象设计的一种实践。

我们简单看看领域驱动设计定了哪些规范，让我们不得不遵守面向对象的一些原则：

- 以领域层为核心，而非以数据库层为代表的基础层为核心。将软件应用的核心从数据设计这个底层，移动到领域相关的抽象中，从而脱离数据库设计对软件设计的牵制。以数据为中心向以领域为中心的变化，从而实现面向对象设计
- 聚合：多个实体和值对象生成的具有单一职责的集合，类似生物上多个细胞形成有功能的组织的原理。每个聚合都有自己的单一职责。规范上要求你定义聚合，强制实现单一职责。

## 领域驱动的一些概念

我看领域驱动的目的不是为了划分微服务，不是为了划分业务子系统，首先自己目前是基础架构相关的工作，工作中也没有很复杂的业务系统，更多的是关注领域驱动设计在软件单体上的实践，如何进行设计，如何组织代码。